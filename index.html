<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
  <title>Serial (COM-port) to WWW proxy</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  
    <style type="text/css">
    html, body {
        height: 100%;
        margin: 0px;
    }
    body {
        background: #f0e68c;
    }
  </style>
    <script>
        function loop(responseTxt, statusTxt, xhr){
          $.ajax("/get_serial?r=" + Math.random())
          .done(function(data) {
            $('#data').html(data);
            loop();
          }).fail(function(jqXHR, status) {
            $('#data').html('Error: '+status);
          });
        }
      $(document).ready(function(){
        loop();
        $('.bgColor').click(function() {
          $('body').css('background', $(this).html());
        });
        $('.fntColor').click(function() {
          $('body').css('color',$(this).html());
        });
        $('.fntSize').click(function() {
          $('body').css('font-size',$(this).html());
        });
        
        $('.btn').click(function() {
            $.ajax("/send_to_serial/" + $('#offset').val());
        })
      });
        
    </script>
  
  
</head>

<body id="body">
  <!-- Vertical aligment of text from "Vertical Centering in CSS" at 
  http://www.jakpsatweb.cz/css/css-vertical-center-solution.html -->
  <div style="display: table; height: 90%; width: 100%; overflow: hidden;">
    <div style=" display: table-cell; vertical-align: middle;">
      <div style="text-align: center" id="data">
        Пока нет данных
      </div>
      
      <form class="form-inline">
        <div class="form-group">
            <label for="offset">Смещение:</label>
            <input class="form-control" id="offset">
        </div>
        <input class="btn btn-info" value="Послать">
      </form>
      
    </div>
  </div>

  <div style="display: table; height: 10%; width: 100%">
    <div style=" display: table-cell; vertical-align: middle;">
        <div>
            <div class="container">
                <div class="btn-group dropup">
                    <div class="btn-group">
                      <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Цвет фона
                      <span class="caret"></span></button>
                      <ul class="dropdown-menu">
                        <li><a data-target="#" class="bgColor">red</a></li>
                        <li><a data-target="#" class="bgColor">green</a></li>
                        <li><a data-target="#" class="bgColor">blue</a></li>
                      </ul>
                    </div>

                    <div class="btn-group">
                      <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Цвет шрифта
                      <span class="caret"></span></button>
                      <ul class="dropdown-menu">
                        <li><a data-target="#" class="fntColor">white</a></li>
                        <li><a data-target="#" class="fntColor">black</a></li>
                      </ul>
                    </div>

                    <div class="btn-group">
                      <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Размер шрифта
                      <span class="caret"></span></button>
                      <ul class="dropdown-menu">
                        <li><a data-target="#" class="fntSize">25px</a></li>
                        <li><a data-target="#" class="fntSize">15px</a></li>
                      </ul>
                    </div>

                </div>
            </div>
            
        </div>
    </div>
  </div>
  
</body>
</html>
